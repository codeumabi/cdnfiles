const _0x4ba933=_0x4636;(function(_0x228497,_0x4f9ab0){const _0x7d846b=_0x4636,_0x1a78e=_0x228497();while(!![]){try{const _0x242934=-parseInt(_0x7d846b(0x20e))/0x1+-parseInt(_0x7d846b(0x118))/0x2*(-parseInt(_0x7d846b(0x18d))/0x3)+parseInt(_0x7d846b(0x11d))/0x4*(parseInt(_0x7d846b(0x176))/0x5)+parseInt(_0x7d846b(0x201))/0x6+parseInt(_0x7d846b(0x182))/0x7+-parseInt(_0x7d846b(0x1fe))/0x8*(-parseInt(_0x7d846b(0x161))/0x9)+-parseInt(_0x7d846b(0x19a))/0xa;if(_0x242934===_0x4f9ab0)break;else _0x1a78e['push'](_0x1a78e['shift']());}catch(_0x33c2c0){_0x1a78e['push'](_0x1a78e['shift']());}}}(_0x437b,0xf3d4a),document[_0x4ba933(0x196)](_0x4ba933(0x10e),function(){const _0x3b02f1=_0x4ba933;console[_0x3b02f1(0x1b5)](_0x3b02f1(0x12f)),initMemeCanvas(),initMemeControls(),initMemeExport(),initMemeColorPalettes(),initMemeAesthetics(),initMemeStickers(),initMemeMoods(),initMemeGallery(),typeof lucide!==_0x3b02f1(0x133)&&lucide[_0x3b02f1(0x178)]();}));function initMemeControls(){initMemeImageUpload(),initMemeTextControls(),initMemeEffectControls(),initMemeLayoutControls(),initCanvasInteractions(),initKeyboardControls();}function initMemeImageUpload(){const _0x4f3f32=_0x4ba933,_0x5317a9=document[_0x4f3f32(0x1ce)]('imageUpload'),_0x9153d2=document['getElementById']('uploadArea'),_0x302735=document[_0x4f3f32(0x1ce)](_0x4f3f32(0x12e)),_0x5d2c34=document[_0x4f3f32(0x1ce)]('imageOpacitySlider'),_0x5a0a0d=document['getElementById'](_0x4f3f32(0x220)),_0x1a6937=document[_0x4f3f32(0x1ce)](_0x4f3f32(0x1d5));_0x5317a9&&_0x5317a9['addEventListener'](_0x4f3f32(0x1ea),handleMemeImageUpload);_0x9153d2&&(_0x9153d2['addEventListener'](_0x4f3f32(0x168),()=>{const _0x798417=_0x4f3f32;_0x5317a9[_0x798417(0x168)]();}),setupDragAndDrop(_0x9153d2,handleMemeImageFile));_0x1a6937&&_0x1a6937[_0x4f3f32(0x196)](_0x4f3f32(0x168),_0x32c58f=>{const _0x38f421=_0x4f3f32;_0x32c58f[_0x38f421(0x16f)](),removeBackgroundImage();});_0x302735&&_0x302735['addEventListener'](_0x4f3f32(0x1ea),_0x1e2127=>{const _0x3b01c7=_0x4f3f32;updateMemeState(_0x3b01c7(0x153),_0x1e2127['target'][_0x3b01c7(0x1f6)]);});_0x5d2c34&&_0x5d2c34[_0x4f3f32(0x196)]('input',_0x41335d=>{const _0x3248fa=_0x4f3f32,_0x5496bc=parseInt(_0x41335d[_0x3248fa(0x117)][_0x3248fa(0x1f6)]);document[_0x3248fa(0x1ce)](_0x3248fa(0x15a))[_0x3248fa(0x15f)]=_0x5496bc,updateMemeState(_0x3248fa(0x11f),_0x5496bc);});const _0x137b0a=document[_0x4f3f32(0x1ce)](_0x4f3f32(0x165)),_0x20762e=document['getElementById'](_0x4f3f32(0x175));_0x137b0a&&_0x137b0a[_0x4f3f32(0x196)]('change',_0x1cfcb6=>{const _0x31be3d=_0x4f3f32;memeState[_0x31be3d(0x1b2)]=_0x1cfcb6[_0x31be3d(0x117)][_0x31be3d(0x149)],_0x20762e&&(_0x20762e[_0x31be3d(0x183)]['display']=_0x1cfcb6[_0x31be3d(0x117)][_0x31be3d(0x149)]?'block':_0x31be3d(0x11c)),drawMemeCanvas();}),_0x5a0a0d&&_0x5a0a0d[_0x4f3f32(0x196)]('input',_0x10ba1c=>{const _0x2e2053=_0x4f3f32;updateMemeState(_0x2e2053(0x16c),_0x10ba1c[_0x2e2053(0x117)][_0x2e2053(0x1f6)]);});}function initMemeTextControls(){const _0x5b9df7=_0x4ba933,_0x1ff721=document[_0x5b9df7(0x1ce)](_0x5b9df7(0x19b)),_0x4fd180=document[_0x5b9df7(0x1ce)](_0x5b9df7(0x192)),_0x2b663a=document[_0x5b9df7(0x1ce)]('fontSizeSlider'),_0x132c8d=document[_0x5b9df7(0x1ce)]('textColorPicker'),_0x3a1aef=document['getElementById'](_0x5b9df7(0x132)),_0xe565c9=document[_0x5b9df7(0x1ce)](_0x5b9df7(0x1cc)),_0x46a6c1=document['getElementById'](_0x5b9df7(0x1d9));_0x1ff721&&_0x1ff721[_0x5b9df7(0x196)](_0x5b9df7(0x15c),_0xa3faff=>{const _0x50338c=_0x5b9df7,_0x229289=getCurrentTextElement();_0x229289&&(_0x229289[_0x50338c(0x1eb)]=_0xa3faff[_0x50338c(0x117)][_0x50338c(0x1f6)],drawMemeCanvas());});_0x4fd180&&_0x4fd180['addEventListener'](_0x5b9df7(0x1ea),_0x4de493=>{const _0x5b29b0=_0x5b9df7,_0x54013a=getCurrentTextElement();_0x54013a&&(_0x54013a[_0x5b29b0(0x1f8)]=_0x4de493[_0x5b29b0(0x117)]['value'],drawMemeCanvas());});_0x2b663a&&_0x2b663a['addEventListener'](_0x5b9df7(0x15c),_0x31ab91=>{const _0x2fe99f=_0x5b9df7,_0x3ca7b7=parseInt(_0x31ab91[_0x2fe99f(0x117)][_0x2fe99f(0x1f6)]);document['getElementById'](_0x2fe99f(0x13a))['textContent']=_0x3ca7b7;const _0x23a956=getCurrentTextElement();_0x23a956&&(_0x23a956['fontSize']=_0x3ca7b7,drawMemeCanvas());});_0x132c8d&&_0x132c8d['addEventListener']('input',_0x1591d7=>{const _0x1d07b8=_0x5b9df7,_0x4a986f=getCurrentTextElement();_0x4a986f&&(_0x4a986f[_0x1d07b8(0x1c2)]=_0x1591d7[_0x1d07b8(0x117)]['value'],drawMemeCanvas());});const _0x306508=document[_0x5b9df7(0x1ce)]('bubbleTextBtn'),_0x579424=document[_0x5b9df7(0x1ce)](_0x5b9df7(0x19d)),_0x585b59=document['getElementById'](_0x5b9df7(0x1c0)),_0xe155e4=document[_0x5b9df7(0x1ce)]('chromeTextBtn');_0x306508&&_0x306508[_0x5b9df7(0x196)](_0x5b9df7(0x168),()=>{const _0x1ec4b7=_0x5b9df7;setActiveTextStyle('bubble');const _0x54fb3a=getCurrentTextElement();_0x54fb3a&&(_0x54fb3a['textStyle']=_0x1ec4b7(0x144),drawMemeCanvas());}),_0x579424&&_0x579424[_0x5b9df7(0x196)]('click',()=>{const _0xe02f2a=_0x5b9df7;setActiveTextStyle(_0xe02f2a(0x155));const _0x114a9e=getCurrentTextElement();_0x114a9e&&(_0x114a9e[_0xe02f2a(0x139)]=_0xe02f2a(0x155),drawMemeCanvas());}),_0x585b59&&_0x585b59[_0x5b9df7(0x196)]('click',()=>{const _0x27b17f=_0x5b9df7;setActiveTextStyle(_0x27b17f(0x157));const _0x2baea3=getCurrentTextElement();_0x2baea3&&(_0x2baea3[_0x27b17f(0x139)]='gradient',drawMemeCanvas());}),_0xe155e4&&_0xe155e4[_0x5b9df7(0x196)](_0x5b9df7(0x168),()=>{const _0x2aa3bd=_0x5b9df7;setActiveTextStyle(_0x2aa3bd(0x158));const _0x15a9d4=getCurrentTextElement();_0x15a9d4&&(_0x15a9d4['textStyle']=_0x2aa3bd(0x158),drawMemeCanvas());}),_0x3a1aef&&_0x3a1aef[_0x5b9df7(0x196)]('change',_0x38465d=>{const _0x5e28b2=_0x5b9df7,_0x5334f2=document[_0x5e28b2(0x1ce)](_0x5e28b2(0x223));_0x38465d['target'][_0x5e28b2(0x149)]?(_0x5334f2['style']['display']=_0x5e28b2(0x13c),updateMemeState('outline',!![])):(_0x5334f2[_0x5e28b2(0x183)][_0x5e28b2(0x166)]=_0x5e28b2(0x11c),updateMemeState(_0x5e28b2(0x129),![]));}),_0xe565c9&&_0xe565c9[_0x5b9df7(0x196)]('input',_0xe761da=>{const _0x4512ab=_0x5b9df7,_0x334614=parseInt(_0xe761da[_0x4512ab(0x117)][_0x4512ab(0x1f6)]);document[_0x4512ab(0x1ce)](_0x4512ab(0x136))[_0x4512ab(0x15f)]=_0x334614,updateMemeState(_0x4512ab(0x1f7),_0x334614);}),_0x46a6c1&&_0x46a6c1[_0x5b9df7(0x196)]('input',_0x1a059c=>{const _0x45e8bd=_0x5b9df7;updateMemeState(_0x45e8bd(0x1a1),_0x1a059c[_0x45e8bd(0x117)]['value']);});}function initMemeEffectControls(){const _0x55c93f=_0x4ba933,_0x302ec4=document[_0x55c93f(0x1ce)](_0x55c93f(0x179)),_0x218ac5=document[_0x55c93f(0x1ce)]('shadowControls'),_0x1f311d=document[_0x55c93f(0x1ce)](_0x55c93f(0x1bf)),_0x23f505=document['getElementById']('shadowYSlider'),_0x3686cd=document[_0x55c93f(0x1ce)](_0x55c93f(0x14d)),_0x541fd4=document[_0x55c93f(0x1ce)](_0x55c93f(0x1e7)),_0x4e5c60=document[_0x55c93f(0x1ce)](_0x55c93f(0x142));_0x302ec4&&_0x302ec4[_0x55c93f(0x196)](_0x55c93f(0x1ea),_0x35360b=>{const _0x3ce5c2=_0x55c93f;_0x35360b[_0x3ce5c2(0x117)][_0x3ce5c2(0x149)]?(_0x218ac5[_0x3ce5c2(0x183)][_0x3ce5c2(0x166)]=_0x3ce5c2(0x13c),updateMemeState(_0x3ce5c2(0x17d),!![])):(_0x218ac5[_0x3ce5c2(0x183)]['display']=_0x3ce5c2(0x11c),updateMemeState(_0x3ce5c2(0x17d),![]));}),_0x1f311d&&_0x1f311d['addEventListener'](_0x55c93f(0x15c),_0x4c7360=>{const _0x136e51=_0x55c93f,_0x4b9ce6=parseInt(_0x4c7360[_0x136e51(0x117)][_0x136e51(0x1f6)]);document[_0x136e51(0x1ce)]('shadowXValue')['textContent']=_0x4b9ce6,updateMemeState(_0x136e51(0x1a4),_0x4b9ce6);}),_0x23f505&&_0x23f505[_0x55c93f(0x196)](_0x55c93f(0x15c),_0x106b7f=>{const _0xf0cca=_0x55c93f,_0x58fb82=parseInt(_0x106b7f[_0xf0cca(0x117)]['value']);document[_0xf0cca(0x1ce)]('shadowYValue')[_0xf0cca(0x15f)]=_0x58fb82,updateMemeState(_0xf0cca(0x221),_0x58fb82);}),_0x3686cd&&_0x3686cd[_0x55c93f(0x196)](_0x55c93f(0x15c),_0x248664=>{const _0x5a541d=_0x55c93f,_0x12c1d2=parseInt(_0x248664['target'][_0x5a541d(0x1f6)]);document[_0x5a541d(0x1ce)](_0x5a541d(0x212))[_0x5a541d(0x15f)]=_0x12c1d2,updateMemeState('shadowBlur',_0x12c1d2);}),_0x541fd4&&_0x541fd4[_0x55c93f(0x196)]('input',_0x5e5c88=>{const _0x1c3b1d=_0x55c93f;updateMemeState(_0x1c3b1d(0x1f0),_0x5e5c88[_0x1c3b1d(0x117)][_0x1c3b1d(0x1f6)]);}),_0x4e5c60&&_0x4e5c60[_0x55c93f(0x196)](_0x55c93f(0x15c),_0x4f31cf=>{const _0x2d1b45=_0x55c93f,_0x27f188=parseInt(_0x4f31cf['target']['value']);document['getElementById'](_0x2d1b45(0x1da))[_0x2d1b45(0x15f)]=_0x27f188,updateMemeState(_0x2d1b45(0x1bc),_0x27f188);});}function initMemeLayoutControls(){const _0x364d26=_0x4ba933,_0x2674f5=document[_0x364d26(0x1ce)](_0x364d26(0x1a9)),_0x23753e=document[_0x364d26(0x1ce)]('alignCenter'),_0x51219a=document[_0x364d26(0x1ce)](_0x364d26(0x123));_0x2674f5&&_0x2674f5['addEventListener'](_0x364d26(0x168),()=>{const _0x1928d1=_0x364d26;setActiveAlignment(_0x1928d1(0x163)),updateMemeState(_0x1928d1(0x131),_0x1928d1(0x163));}),_0x23753e&&_0x23753e[_0x364d26(0x196)](_0x364d26(0x168),()=>{const _0x427efe=_0x364d26;setActiveAlignment(_0x427efe(0x198)),updateMemeState('textAlignment',_0x427efe(0x198));}),_0x51219a&&_0x51219a[_0x364d26(0x196)](_0x364d26(0x168),()=>{const _0x33c8b3=_0x364d26;setActiveAlignment(_0x33c8b3(0x186)),updateMemeState(_0x33c8b3(0x131),'right');});}function initMemeColorPalettes(){const _0x5d8d04=_0x4ba933,_0x42e88b=document[_0x5d8d04(0x1ce)](_0x5d8d04(0x135));_0x42e88b&&createMemeColorPalette(_0x42e88b,bratColorPalettes['text'],_0x18ac5e=>{const _0x38d361=_0x5d8d04;document[_0x38d361(0x1ce)]('textColorPicker')[_0x38d361(0x1f6)]=_0x18ac5e;const _0x5d62e8=getCurrentTextElement();_0x5d62e8&&(_0x5d62e8[_0x38d361(0x1c2)]=_0x18ac5e,drawMemeCanvas());});const _0x1d65b9=document[_0x5d8d04(0x1ce)]('backgroundColorPalette');_0x1d65b9&&createMemeColorPalette(_0x1d65b9,bratColorPalettes[_0x5d8d04(0x1c4)],_0x515e70=>{const _0xe4ce30=_0x5d8d04;document[_0xe4ce30(0x1ce)](_0xe4ce30(0x220))['value']=_0x515e70,updateMemeState(_0xe4ce30(0x16c),_0x515e70);});}function initMemeAesthetics(){const _0x25c49a=_0x4ba933,_0x554e2f=document[_0x25c49a(0x1ce)](_0x25c49a(0x17c));if(!_0x554e2f)return;_0x554e2f[_0x25c49a(0x196)](_0x25c49a(0x1ea),_0x4274aa=>{const _0x2446e4=_0x25c49a;memeState[_0x2446e4(0x1d6)]=_0x4274aa[_0x2446e4(0x117)]['value']||null,drawMemeCanvas();});}function initMemeStickers(){const _0x8251fe=_0x4ba933,_0x57e014=document[_0x8251fe(0x1ce)](_0x8251fe(0x113)),_0xa800c9=document[_0x8251fe(0x1ce)](_0x8251fe(0x10f));_0x57e014&&_0x57e014[_0x8251fe(0x196)](_0x8251fe(0x1ea),_0x313b55=>{const _0x26d068=_0x8251fe;memeState['activeStickerCategory']=_0x313b55['target'][_0x26d068(0x1f6)],updateStickerOptions(_0x313b55[_0x26d068(0x117)]['value']);});_0xa800c9&&_0xa800c9[_0x8251fe(0x196)](_0x8251fe(0x1ea),_0xd7a365=>{const _0x3b5839=_0x8251fe;_0xd7a365[_0x3b5839(0x117)][_0x3b5839(0x1f6)]&&(addSticker(_0xd7a365[_0x3b5839(0x117)]['value']),_0xd7a365[_0x3b5839(0x117)][_0x3b5839(0x1f6)]='');});const _0x4d9cf4=document[_0x8251fe(0x1ce)](_0x8251fe(0x1b9));_0x4d9cf4&&_0x4d9cf4[_0x8251fe(0x196)](_0x8251fe(0x15c),_0x294720=>{const _0x21dbb7=_0x8251fe,_0x5b1871=parseInt(_0x294720['target'][_0x21dbb7(0x1f6)]);document['getElementById'](_0x21dbb7(0x1e1))[_0x21dbb7(0x15f)]=_0x5b1871,updateMemeState(_0x21dbb7(0x13b),_0x5b1871);});const _0x2a9b5b=document[_0x8251fe(0x1ce)](_0x8251fe(0x1dd));_0x2a9b5b&&_0x2a9b5b[_0x8251fe(0x196)](_0x8251fe(0x168),()=>{const _0x834494=_0x8251fe;clearAllStickers(),memeState[_0x834494(0x1ff)]=null;}),updateStickerOptions(_0x8251fe(0x215));}function initMemeMoods(){const _0x1599ba=_0x4ba933,_0x1d09c5=document['getElementById'](_0x1599ba(0x151)),_0x50d8a8=document[_0x1599ba(0x1ce)](_0x1599ba(0x17b));_0x1d09c5&&_0x1d09c5[_0x1599ba(0x196)]('change',_0x374448=>{const _0x27ba23=_0x1599ba;memeState[_0x27ba23(0x1ee)]=_0x374448[_0x27ba23(0x117)][_0x27ba23(0x1f6)],updateMoodOptions(_0x374448['target']['value']);}),_0x50d8a8&&_0x50d8a8['addEventListener'](_0x1599ba(0x1ea),_0x24bc03=>{const _0x37b5f2=_0x1599ba;if(_0x24bc03[_0x37b5f2(0x117)][_0x37b5f2(0x1f6)]){const _0x4bc8f2=getCurrentMoodByName(_0x24bc03['target'][_0x37b5f2(0x1f6)]);_0x4bc8f2&&(memeState[_0x37b5f2(0x1ad)]=_0x4bc8f2,applyMoodPreset(_0x4bc8f2)),_0x24bc03['target'][_0x37b5f2(0x1f6)]='';}}),updateMoodOptions('bratty');}function createMemeColorPalette(_0x138bdd,_0x54b493,_0x2da549){_0x138bdd['innerHTML']='',_0x54b493['forEach'](_0x2a4283=>{const _0x2cb6e5=_0x4636,_0x526430=document['createElement'](_0x2cb6e5(0x14b));_0x526430[_0x2cb6e5(0x1b4)]='color-swatch',_0x526430[_0x2cb6e5(0x183)][_0x2cb6e5(0x16c)]=_0x2a4283,_0x526430[_0x2cb6e5(0x1e9)]=_0x2a4283,_0x526430[_0x2cb6e5(0x196)]('click',()=>{const _0xca3fa3=_0x2cb6e5;_0x138bdd['querySelectorAll'](_0xca3fa3(0x119))[_0xca3fa3(0x11b)](_0x2f999c=>_0x2f999c[_0xca3fa3(0x14f)][_0xca3fa3(0x1d1)]('active')),_0x526430[_0xca3fa3(0x14f)][_0xca3fa3(0x1b1)](_0xca3fa3(0x1fd)),_0x2da549(_0x2a4283);}),_0x138bdd['appendChild'](_0x526430);});}function setActiveTextStyle(_0x22f465){const _0x479237=_0x4ba933,_0x5bf943=document[_0x479237(0x1f9)](_0x479237(0x1ed));_0x5bf943[_0x479237(0x11b)](_0x2396a9=>_0x2396a9[_0x479237(0x14f)][_0x479237(0x1d1)](_0x479237(0x1fd)));const _0x2513aa=document[_0x479237(0x1ce)](_0x22f465+_0x479237(0x169));if(_0x2513aa)_0x2513aa[_0x479237(0x14f)][_0x479237(0x1b1)](_0x479237(0x1fd));}function _0x437b(){const _0xc4a16d=['Backspace','flex','auto','add','backgroundColorEnabled','mousemove','className','log','default','files','zIndex','stickerSizeSlider','white','Click\x20and\x20drag\x20to\x20reorder','aestheticIntensity','all\x200.2s','var(--color-surface)','shadowXSlider','gradientTextBtn','getContext','textColor','splice','background','<i\x20data-lucide=\x22plus\x22></i>\x20Add\x20Text','dataset','border','addTextBtn','Failed\x20to\x20save\x20meme\x20to\x20gallery:','8px','2px\x20solid\x20transparent','outlineWidthSlider','innerHTML','getElementById','min','ArrowUp','remove','galleryGrid','find','4px','removeImageBtn','aesthetic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20data-lucide=\x22check-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Image\x20uploaded\x20successfully!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small\x20style=\x22max-width:\x20100%;\x20overflow:\x20hidden;\x20text-overflow:\x20ellipsis;\x20white-space:\x20nowrap;\x20display:\x20block;\x22>','imageUpload','outlineColorPicker','aestheticIntensityValue','500','<i\x20data-lucide=\x22trash-2\x22\x20style=\x22width:\x2016px;\x20height:\x2016px;\x22></i>','clearStickersBtn','borderRadius','stickers','mousedown','stickerSizeValue','touchmove','fontSize','keydown','saveToGalleryBtnMobile','selected','shadowColorPicker','querySelector','title','change','text','galleryGridDesktop','[id$=\x22TextBtn\x22]','activeMoodCategory','fontSizeSlider','shadowColor','nowrap','textElements','drawImage','name','#ff4444','value','outlineWidth','fontFamily','querySelectorAll','offset','option','ArrowDown','active','6640Tfndnx','selectedSticker','grab','8404332rIplUj','px)\x20scale(1.05)','<option\x20value=\x22\x22>Choose\x20a\x20mood...</option>','backgroundImageOffset','customExportHeightMobile','length','px\x20\x22','canvasWidth','preventDefault','customExportWidthMobile','setAttribute','28px','sticker','1010867qHARWm','element','transform\x200.1s,\x20box-shadow\x200.1s','exportSizePreset','shadowBlurValue','pointer','saveToGallery','crowns','marginBottom','align','#4CAF50','btn-icon-small','move','2px\x20solid\x20var(--color-primary)','6px','includes','height','transition','backgroundColorPicker','shadowY','textOverflow','outlineControls','DOMContentLoaded','stickerSelect','charAt','true','marginTop','stickerCategorySelect','ArrowLeft','type','grabbing','target','10ZOBuXR','.color-swatch','filter','forEach','none','224CPuwrn','option[data-image-size=\x22true\x22]','imageOpacity','padding','selectionHint','exportSizePresetDesktop','alignRight','uploadArea','.text-list-item','clientX','opacity','alignItems','outline',')</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','0.3','hidden','[id^=\x22align\x22]','blendModeSelect','Brat\x20Meme\x20Generator\x20initialized','button','textAlignment','outlineToggle','undefined','top','textColorPalette','outlineWidthValue','boxShadow','\x20(Image\x20Size)','textStyle','fontSizeValue','stickerSize','block','textId','some','exportSizePresetMobile','fontWeight','Fredoka\x20One','aestheticIntensitySlider','appendChild','bubble','shiftKey','mouseup','clientY','500x500','checked','ArrowRight','div','<i\x20data-lucide=\x22grip-vertical\x22\x20style=\x22width:\x2016px;\x20height:\x2016px;\x22></i>','shadowBlurSlider','from','classList','color','moodCategorySelect','sqrt','blendMode','customExportWidthDesktop','glossy','NEGATIVE_INFINITY','gradient','chrome','options','imageOpacityValue','error','input','naturalHeight','exportHeight','textContent','cursor','10053lKGLQv','insertBefore','left','getBoundingClientRect','backgroundColorToggle','display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20data-lucide=\x22upload\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Click\x20to\x20upload\x20or\x20drag\x20&\x20drop\x20an\x20image</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','click','TextBtn','font','canvasHeight','backgroundColor','memeGalleryManager','touchstart','stopPropagation','justifyContent','15px','textListContainer','pointerEvents','pow','backgroundColorControls','20415NrsYSE','src','createIcons','shadowToggle','dragOffset','moodSelect','aestheticSelect','shadow','ellipsis','button-group','label','.text-list-item:not([style*=\x22position:\x20relative\x22])','3357585sadHwu','style','Delete','upload-success','right','customExportHeightDesktop','customExportWidth','closest','width','backgroundImageData','size','1128639YoZtOs','key','createElement','Meme\x20saved\x20to\x20gallery\x20with\x20ID:','#textInput,\x20#fontSelect,\x20#fontSizeSlider,\x20#textColorPicker,\x20.button-group,\x20#outlineControls,\x20#shadowControls,\x20.color-palette','fontSelect','naturalWidth','Text\x20Elements','transform','addEventListener','removeEventListener','center','toDataURL','29076030cfhRXS','textInput','#textInput','glossyTextBtn','parentNode','max','textColorPicker','outlineColor','0\x204px\x2012px\x20rgba(0,0,0,0.3)','MemeGalleryManager\x20not\x20found\x20or\x20gallery\x20containers\x20not\x20found','shadowX','whiteSpace','removeChild','backgroundImage','canvas','alignLeft','minWidth','exportWidth','touchend','activeMood'];_0x437b=function(){return _0xc4a16d;};return _0x437b();}function setActiveAlignment(_0x32b002){const _0x372d38=_0x4ba933;document[_0x372d38(0x1f9)](_0x372d38(0x12d))[_0x372d38(0x11b)](_0x11c10b=>{const _0x304c7f=_0x372d38;_0x11c10b[_0x304c7f(0x14f)]['remove'](_0x304c7f(0x1fd));});const _0x53cbed=document['getElementById'](_0x372d38(0x217)+(_0x32b002[_0x372d38(0x110)](0x0)['toUpperCase']()+_0x32b002['slice'](0x1)));if(_0x53cbed)_0x53cbed[_0x372d38(0x14f)]['add'](_0x372d38(0x1fd));}function updateStickerOptions(_0x20f8e7){const _0x2048eb=_0x4ba933,_0x373f13=document['getElementById'](_0x2048eb(0x10f));if(!_0x373f13)return;const _0x521d0f=stickerCollections[_0x20f8e7]||[];_0x373f13['innerHTML']='<option\x20value=\x22\x22>Choose\x20a\x20sticker...</option>',_0x521d0f['forEach'](_0x51d4d1=>{const _0x160724=_0x2048eb,_0x43af25=document['createElement'](_0x160724(0x1fb));_0x43af25[_0x160724(0x1f6)]=_0x51d4d1,_0x43af25['textContent']=_0x51d4d1+'\x20'+_0x51d4d1,_0x373f13[_0x160724(0x143)](_0x43af25);});}function updateMoodOptions(_0x347646){const _0x49bb86=_0x4ba933,_0x399ed4=document[_0x49bb86(0x1ce)](_0x49bb86(0x17b));if(!_0x399ed4)return;const _0x1b80bc=moodPresets[_0x347646]||[];_0x399ed4['innerHTML']=_0x49bb86(0x203),_0x1b80bc[_0x49bb86(0x11b)](_0xa90b7d=>{const _0x27afc9=_0x49bb86,_0x3885d0=document['createElement'](_0x27afc9(0x1fb));_0x3885d0['value']=_0xa90b7d['name'],_0x3885d0[_0x27afc9(0x15f)]=_0xa90b7d[_0x27afc9(0x1f4)],_0x399ed4[_0x27afc9(0x143)](_0x3885d0);});}function getCurrentMoodByName(_0x5f3136){const _0x441daa=_0x4ba933,_0x1607dc=memeState['activeMoodCategory'],_0x348645=moodPresets[_0x1607dc]||[];return _0x348645[_0x441daa(0x1d3)](_0xda302e=>_0xda302e[_0x441daa(0x1f4)]===_0x5f3136);}function updateTextControls(){const _0x5464c3=_0x4ba933,_0x34375b=getCurrentTextElement();if(!_0x34375b)return;const _0x51bf20=document[_0x5464c3(0x1ce)]('textInput'),_0x62bb30=document[_0x5464c3(0x1ce)](_0x5464c3(0x192)),_0x2086b8=document[_0x5464c3(0x1ce)](_0x5464c3(0x1ef)),_0x759293=document[_0x5464c3(0x1ce)](_0x5464c3(0x1a0));if(_0x51bf20)_0x51bf20['value']=_0x34375b[_0x5464c3(0x1eb)];if(_0x62bb30)_0x62bb30['value']=_0x34375b['fontFamily'];_0x2086b8&&(_0x2086b8[_0x5464c3(0x1f6)]=_0x34375b[_0x5464c3(0x1e3)],document[_0x5464c3(0x1ce)]('fontSizeValue')[_0x5464c3(0x15f)]=_0x34375b['fontSize']);if(_0x759293)_0x759293['value']=_0x34375b[_0x5464c3(0x1c2)];setActiveTextStyle(_0x34375b[_0x5464c3(0x139)]),updateTextList();}function hideTextEditingControls(){const _0x2463a7=_0x4ba933,_0x84e97e=document[_0x2463a7(0x1f9)]('#textInput,\x20#fontSelect,\x20#fontSizeSlider,\x20#textColorPicker,\x20.button-group,\x20#outlineControls,\x20#shadowControls,\x20.color-palette');_0x84e97e[_0x2463a7(0x11b)](_0x1d130b=>{const _0x1a2019=_0x2463a7;_0x1d130b&&(_0x1d130b[_0x1a2019(0x183)]['opacity']=_0x1a2019(0x12b),_0x1d130b['style'][_0x1a2019(0x173)]='none');}),showSelectionHint();}function showTextEditingControls(){const _0x401754=_0x4ba933,_0x45524a=document['querySelectorAll'](_0x401754(0x191));_0x45524a['forEach'](_0x382825=>{const _0x1a7756=_0x401754;_0x382825&&(_0x382825[_0x1a7756(0x183)][_0x1a7756(0x127)]='1',_0x382825['style'][_0x1a7756(0x173)]=_0x1a7756(0x1b0));}),hideSelectionHint();}function showSelectionHint(){}function hideSelectionHint(){const _0x24d1ba=_0x4ba933,_0x1a173d=document['getElementById'](_0x24d1ba(0x121));_0x1a173d&&(_0x1a173d[_0x24d1ba(0x183)]['display']=_0x24d1ba(0x11c));}function initCanvasInteractions(){const _0x51919c=_0x4ba933;if(!memeCanvas)return;memeCanvas[_0x51919c(0x196)](_0x51919c(0x168),handleCanvasClick),memeCanvas[_0x51919c(0x196)]('mousedown',handleMouseDown),memeCanvas['addEventListener'](_0x51919c(0x1b3),handleMouseMove),memeCanvas[_0x51919c(0x196)](_0x51919c(0x146),handleMouseUp),memeCanvas['addEventListener'](_0x51919c(0x16e),handleTouchStart,{'passive':![]}),memeCanvas[_0x51919c(0x196)](_0x51919c(0x1e2),handleTouchMove,{'passive':![]}),memeCanvas[_0x51919c(0x196)](_0x51919c(0x1ac),handleTouchEnd);}function _0x4636(_0x117e91,_0x12e951){const _0x437bcc=_0x437b();return _0x4636=function(_0x4636c7,_0x1cffed){_0x4636c7=_0x4636c7-0x10e;let _0x578800=_0x437bcc[_0x4636c7];return _0x578800;},_0x4636(_0x117e91,_0x12e951);}function initKeyboardControls(){const _0xec9bff=_0x4ba933;document[_0xec9bff(0x196)](_0xec9bff(0x1e4),handleKeyDown),addTextManagementButtons();}let isDragging=![],isResizing=![],dragTarget=null,resizeTarget=null,lastMousePos={'x':0x0,'y':0x0},initialSize=0x0;function handleMouseDown(_0x5e7ffd){const _0x59e1a2=_0x4ba933,_0x51dd68=getCanvasPosition(_0x5e7ffd);if(memeState['backgroundImage']&&!memeState[_0x59e1a2(0x1ff)]&&!memeState[_0x59e1a2(0x1f2)][_0x59e1a2(0x13e)](_0x3eb155=>_0x3eb155[_0x59e1a2(0x1e6)])){isDragging=!![],dragTarget={'type':_0x59e1a2(0x1a7)},lastMousePos=_0x51dd68;return;}if(memeState[_0x59e1a2(0x1ff)]){const _0x3909aa=memeState[_0x59e1a2(0x1df)][_0x59e1a2(0x1d3)](_0x2c8ef2=>_0x2c8ef2['id']===memeState['selectedSticker']);if(_0x3909aa){const _0x53295d=0x6,_0x23dddc=_0x3909aa['x']+_0x3909aa[_0x59e1a2(0x18c)]/0x2+0x5,_0x4a3688=_0x3909aa['y']+_0x3909aa[_0x59e1a2(0x18c)]/0x2+0x5,_0x3621dc=Math['sqrt'](Math[_0x59e1a2(0x174)](_0x51dd68['x']-_0x23dddc,0x2)+Math[_0x59e1a2(0x174)](_0x51dd68['y']-_0x4a3688,0x2));if(_0x3621dc<=_0x53295d){isResizing=!![],resizeTarget={'type':_0x59e1a2(0x20d),'id':_0x3909aa['id']},initialSize=_0x3909aa[_0x59e1a2(0x18c)],lastMousePos=_0x51dd68;return;}const _0x188044=Math[_0x59e1a2(0x152)](Math[_0x59e1a2(0x174)](_0x51dd68['x']-_0x3909aa['x'],0x2)+Math[_0x59e1a2(0x174)](_0x51dd68['y']-_0x3909aa['y'],0x2));if(_0x188044<_0x3909aa[_0x59e1a2(0x18c)]/0x2){isDragging=!![],dragTarget={'type':_0x59e1a2(0x20d),'id':_0x3909aa['id']},memeState['dragOffset']={'x':_0x51dd68['x']-_0x3909aa['x'],'y':_0x51dd68['y']-_0x3909aa['y']},lastMousePos=_0x51dd68;return;}}}const _0x575ebf=getCurrentTextElement();if(_0x575ebf&&_0x575ebf['selected']){memeCtx['font']=_0x575ebf['fontSize']+_0x59e1a2(0x207)+(bubbleFontMap[_0x575ebf[_0x59e1a2(0x1f8)]]||_0x59e1a2(0x141))+'\x22';const _0xf1ec52=getWrappedTextDimensions(memeCtx,_0x575ebf),_0x543560=0x8,_0x1ed2bd=_0x575ebf['x']+_0xf1ec52[_0x59e1a2(0x18a)]/0x2+0xa,_0x1cf83c=_0x575ebf['y']+_0xf1ec52['height']/0x2+0xa,_0x550843=Math[_0x59e1a2(0x152)](Math[_0x59e1a2(0x174)](_0x51dd68['x']-_0x1ed2bd,0x2)+Math[_0x59e1a2(0x174)](_0x51dd68['y']-_0x1cf83c,0x2));if(_0x550843<=_0x543560+0x5){isResizing=!![],resizeTarget={'type':_0x59e1a2(0x1eb),'id':_0x575ebf['id']},initialSize=_0x575ebf[_0x59e1a2(0x1e3)],lastMousePos=_0x51dd68;return;}if(_0x51dd68['x']>=_0x575ebf['x']-_0xf1ec52[_0x59e1a2(0x18a)]/0x2-0xa&&_0x51dd68['x']<=_0x575ebf['x']+_0xf1ec52[_0x59e1a2(0x18a)]/0x2+0xa&&_0x51dd68['y']>=_0x575ebf['y']-_0xf1ec52[_0x59e1a2(0x21e)]/0x2-0xa&&_0x51dd68['y']<=_0x575ebf['y']+_0xf1ec52[_0x59e1a2(0x21e)]/0x2+0xa){isDragging=!![],dragTarget={'type':'text','id':_0x575ebf['id']},memeState[_0x59e1a2(0x17a)]={'x':_0x51dd68['x']-_0x575ebf['x'],'y':_0x51dd68['y']-_0x575ebf['y']},lastMousePos=_0x51dd68,memeCanvas[_0x59e1a2(0x183)][_0x59e1a2(0x160)]=_0x59e1a2(0x116);return;}}}function handleMouseMove(_0x383c53){const _0x3e3daf=_0x4ba933,_0x5ceb63=getCanvasPosition(_0x383c53);if(!isDragging&&!isResizing){const _0x488f7a=getCurrentTextElement();if(_0x488f7a&&_0x488f7a['selected']){memeCtx['font']=_0x488f7a['fontSize']+'px\x20\x22'+(bubbleFontMap[_0x488f7a[_0x3e3daf(0x1f8)]]||_0x3e3daf(0x141))+'\x22';const _0x4c1e7e=getWrappedTextDimensions(memeCtx,_0x488f7a);_0x5ceb63['x']>=_0x488f7a['x']-_0x4c1e7e[_0x3e3daf(0x18a)]/0x2-0xa&&_0x5ceb63['x']<=_0x488f7a['x']+_0x4c1e7e['width']/0x2+0xa&&_0x5ceb63['y']>=_0x488f7a['y']-_0x4c1e7e[_0x3e3daf(0x21e)]/0x2-0xa&&_0x5ceb63['y']<=_0x488f7a['y']+_0x4c1e7e[_0x3e3daf(0x21e)]/0x2+0xa?memeCanvas[_0x3e3daf(0x183)][_0x3e3daf(0x160)]=_0x3e3daf(0x200):memeCanvas[_0x3e3daf(0x183)][_0x3e3daf(0x160)]=_0x3e3daf(0x1b6);}else memeCanvas[_0x3e3daf(0x183)][_0x3e3daf(0x160)]=_0x3e3daf(0x1b6);}if(isDragging&&dragTarget&&dragTarget[_0x3e3daf(0x115)]==='backgroundImage'){const _0x1be0dc=_0x5ceb63['x']-lastMousePos['x'],_0x5c529a=_0x5ceb63['y']-lastMousePos['y'];memeState[_0x3e3daf(0x204)]['x']+=_0x1be0dc,memeState[_0x3e3daf(0x204)]['y']+=_0x5c529a,lastMousePos=_0x5ceb63,drawMemeCanvas();return;}if(isResizing&&resizeTarget){const _0x3d762b=_0x5ceb63['x']-lastMousePos['x'],_0x323f80=_0x5ceb63['y']-lastMousePos['y'],_0x13db7a=Math[_0x3e3daf(0x152)](_0x3d762b*_0x3d762b+_0x323f80*_0x323f80),_0x226c7c=_0x3d762b>0x0||_0x323f80>0x0?0x1:-0x1;if(resizeTarget['type']===_0x3e3daf(0x20d)){const _0x4a9fc2=memeState[_0x3e3daf(0x1df)][_0x3e3daf(0x1d3)](_0x39503d=>_0x39503d['id']===resizeTarget['id']);_0x4a9fc2&&(_0x4a9fc2['size']=Math[_0x3e3daf(0x19f)](0x0,Math[_0x3e3daf(0x1cf)](0x12c,initialSize+_0x13db7a*_0x226c7c*0.5)),drawMemeCanvas());}else{if(resizeTarget[_0x3e3daf(0x115)]==='text'){const _0xf70ebe=memeState[_0x3e3daf(0x1f2)][_0x3e3daf(0x1d3)](_0x17cc1b=>_0x17cc1b['id']===resizeTarget['id']);if(_0xf70ebe){_0xf70ebe['fontSize']=Math[_0x3e3daf(0x19f)](0xc,Math['min'](0x190,initialSize+_0x13db7a*_0x226c7c*0.3));if(_0xf70ebe['id']===memeState['currentTextId']){const _0x3ac5fa=document[_0x3e3daf(0x1ce)](_0x3e3daf(0x1ef));_0x3ac5fa&&(_0x3ac5fa['value']=_0xf70ebe[_0x3e3daf(0x1e3)],document[_0x3e3daf(0x1ce)](_0x3e3daf(0x13a))[_0x3e3daf(0x15f)]=_0xf70ebe[_0x3e3daf(0x1e3)]);}drawMemeCanvas();}}}return;}if(isDragging&&dragTarget){if(dragTarget[_0x3e3daf(0x115)]===_0x3e3daf(0x20d)){const _0x5d5d9a=memeState[_0x3e3daf(0x1df)][_0x3e3daf(0x1d3)](_0x2a1ecf=>_0x2a1ecf['id']===dragTarget['id']);_0x5d5d9a&&(_0x5d5d9a['x']=_0x5ceb63['x']-memeState[_0x3e3daf(0x17a)]['x'],_0x5d5d9a['y']=_0x5ceb63['y']-memeState[_0x3e3daf(0x17a)]['y'],drawMemeCanvas());}else{if(dragTarget['type']===_0x3e3daf(0x1eb)){const _0x31187b=memeState['textElements'][_0x3e3daf(0x1d3)](_0x15e38c=>_0x15e38c['id']===dragTarget['id']);if(_0x31187b){memeCtx[_0x3e3daf(0x16a)]=_0x31187b[_0x3e3daf(0x1e3)]+'px\x20\x22'+(bubbleFontMap[_0x31187b['fontFamily']]||_0x3e3daf(0x141))+'\x22';const _0x13b207=getWrappedTextDimensions(memeCtx,_0x31187b),_0x3c2147=_0x13b207[_0x3e3daf(0x18a)]/0x2+0xa,_0x14b1fd=_0x13b207[_0x3e3daf(0x21e)]/0x2+0xa,_0x2e0ee9=Math[_0x3e3daf(0x1cf)](_0x3c2147,memeCanvas['width']/0x2),_0x10f496=Math[_0x3e3daf(0x19f)](memeCanvas[_0x3e3daf(0x18a)]-_0x3c2147,memeCanvas['width']/0x2),_0x4f54eb=Math[_0x3e3daf(0x1cf)](_0x14b1fd,memeCanvas['height']/0x2),_0x198fe6=Math['max'](memeCanvas[_0x3e3daf(0x21e)]-_0x14b1fd,memeCanvas[_0x3e3daf(0x21e)]/0x2);_0x31187b['x']=Math[_0x3e3daf(0x19f)](_0x2e0ee9,Math[_0x3e3daf(0x1cf)](_0x10f496,_0x5ceb63['x']-memeState[_0x3e3daf(0x17a)]['x'])),_0x31187b['y']=Math[_0x3e3daf(0x19f)](_0x4f54eb,Math[_0x3e3daf(0x1cf)](_0x198fe6,_0x5ceb63['y']-memeState[_0x3e3daf(0x17a)]['y'])),drawMemeCanvas();}}}}lastMousePos=_0x5ceb63;}function handleMouseUp(){const _0x2a49ba=_0x4ba933;if(isDragging&&dragTarget&&dragTarget[_0x2a49ba(0x115)]===_0x2a49ba(0x1a7)){}memeCanvas&&(memeCanvas['style'][_0x2a49ba(0x160)]=_0x2a49ba(0x1b6)),isDragging=![],isResizing=![],dragTarget=null,resizeTarget=null;}function handleTouchStart(_0x30427d){const _0x155e81=_0x4ba933;_0x30427d[_0x155e81(0x209)]();const _0xbb7a90=_0x30427d['touches'][0x0],_0x9066b4=new MouseEvent(_0x155e81(0x1e0),{'clientX':_0xbb7a90['clientX'],'clientY':_0xbb7a90[_0x155e81(0x147)]});handleMouseDown(_0x9066b4);}function handleTouchMove(_0x33b8ff){const _0x16f4f9=_0x4ba933;_0x33b8ff[_0x16f4f9(0x209)]();const _0x5e5e2d=_0x33b8ff['touches'][0x0],_0x593375=new MouseEvent(_0x16f4f9(0x1b3),{'clientX':_0x5e5e2d[_0x16f4f9(0x126)],'clientY':_0x5e5e2d[_0x16f4f9(0x147)]});handleMouseMove(_0x593375);}function handleTouchEnd(_0x1effaa){_0x1effaa['preventDefault'](),handleMouseUp();}function handleKeyDown(_0x197620){const _0x289cd1=_0x4ba933,_0x1c345e=_0x197620[_0x289cd1(0x145)]?0xa:0x1;if([_0x289cd1(0x1d0),_0x289cd1(0x1fc),'ArrowLeft',_0x289cd1(0x14a)][_0x289cd1(0x21d)](_0x197620[_0x289cd1(0x18e)])){_0x197620[_0x289cd1(0x209)]();if(memeState[_0x289cd1(0x1ff)]){const _0x270aad=memeState[_0x289cd1(0x1df)][_0x289cd1(0x1d3)](_0x46f035=>_0x46f035['id']===memeState[_0x289cd1(0x1ff)]);if(_0x270aad){switch(_0x197620[_0x289cd1(0x18e)]){case _0x289cd1(0x1d0):_0x270aad['y']-=_0x1c345e;break;case _0x289cd1(0x1fc):_0x270aad['y']+=_0x1c345e;break;case'ArrowLeft':_0x270aad['x']-=_0x1c345e;break;case _0x289cd1(0x14a):_0x270aad['x']+=_0x1c345e;break;}drawMemeCanvas();}}else{const _0x4591c6=getCurrentTextElement();if(_0x4591c6&&_0x4591c6[_0x289cd1(0x1e6)]){memeCtx[_0x289cd1(0x16a)]=_0x4591c6[_0x289cd1(0x1e3)]+_0x289cd1(0x207)+(bubbleFontMap[_0x4591c6[_0x289cd1(0x1f8)]]||'Fredoka\x20One')+'\x22';const _0x527e58=getWrappedTextDimensions(memeCtx,_0x4591c6),_0xb70b90=_0x527e58[_0x289cd1(0x18a)]/0x2+0xa,_0x21fb7d=_0x527e58[_0x289cd1(0x21e)]/0x2+0xa,_0x441e90=Math[_0x289cd1(0x1cf)](_0xb70b90,memeCanvas['width']/0x2),_0x45041e=Math[_0x289cd1(0x19f)](memeCanvas[_0x289cd1(0x18a)]-_0xb70b90,memeCanvas['width']/0x2),_0x11bffa=Math[_0x289cd1(0x1cf)](_0x21fb7d,memeCanvas[_0x289cd1(0x21e)]/0x2),_0xc500ec=Math[_0x289cd1(0x19f)](memeCanvas['height']-_0x21fb7d,memeCanvas['height']/0x2);switch(_0x197620[_0x289cd1(0x18e)]){case'ArrowUp':_0x4591c6['y']=Math['max'](_0x11bffa,_0x4591c6['y']-_0x1c345e);break;case _0x289cd1(0x1fc):_0x4591c6['y']=Math['min'](_0xc500ec,_0x4591c6['y']+_0x1c345e);break;case _0x289cd1(0x114):_0x4591c6['x']=Math[_0x289cd1(0x19f)](_0x441e90,_0x4591c6['x']-_0x1c345e);break;case'ArrowRight':_0x4591c6['x']=Math[_0x289cd1(0x1cf)](_0x45041e,_0x4591c6['x']+_0x1c345e);break;}drawMemeCanvas();}}}(_0x197620[_0x289cd1(0x18e)]===_0x289cd1(0x184)||_0x197620[_0x289cd1(0x18e)]===_0x289cd1(0x1ae))&&(memeState[_0x289cd1(0x1ff)]&&(memeState['stickers']=memeState[_0x289cd1(0x1df)][_0x289cd1(0x11a)](_0x163f3d=>_0x163f3d['id']!==memeState['selectedSticker']),memeState[_0x289cd1(0x1ff)]=null,drawMemeCanvas()));}function getCanvasPosition(_0x56e275){const _0x28d86f=_0x4ba933,_0x55e5ba=memeCanvas['getBoundingClientRect'](),_0x14c078=_0x56e275[_0x28d86f(0x126)]-_0x55e5ba['left'],_0x26d27d=_0x56e275[_0x28d86f(0x147)]-_0x55e5ba['top'],_0x3d1f42=memeCanvas['width']/_0x55e5ba[_0x28d86f(0x18a)],_0x583970=memeCanvas[_0x28d86f(0x21e)]/_0x55e5ba[_0x28d86f(0x21e)];return{'x':_0x14c078*_0x3d1f42,'y':_0x26d27d*_0x583970};}function addTextManagementButtons(){const _0x33f9b0=_0x4ba933,_0x1942a9=document[_0x33f9b0(0x1e8)](_0x33f9b0(0x19c))[_0x33f9b0(0x189)]('.control-group');if(_0x1942a9&&!document['getElementById'](_0x33f9b0(0x1c8))){const _0x463273=document['createElement'](_0x33f9b0(0x14b));_0x463273[_0x33f9b0(0x1b4)]=_0x33f9b0(0x17f),_0x463273[_0x33f9b0(0x183)]['marginTop']='10px';const _0x2fab1b=document[_0x33f9b0(0x18f)](_0x33f9b0(0x130));_0x2fab1b['id']=_0x33f9b0(0x1c8),_0x2fab1b[_0x33f9b0(0x1b4)]='btn\x20btn-primary\x20btn-sm',_0x2fab1b['innerHTML']=_0x33f9b0(0x1c5),_0x2fab1b[_0x33f9b0(0x196)](_0x33f9b0(0x168),()=>{addNewTextElement(),updateTextControls(),drawMemeCanvas();}),_0x463273[_0x33f9b0(0x143)](_0x2fab1b),_0x1942a9[_0x33f9b0(0x143)](_0x463273);const _0xdcb311=document['createElement'](_0x33f9b0(0x14b));_0xdcb311['id']='textListContainer',_0xdcb311['style'][_0x33f9b0(0x112)]=_0x33f9b0(0x171),_0x1942a9['appendChild'](_0xdcb311),updateTextList(),typeof lucide!==_0x33f9b0(0x133)&&lucide['createIcons']();}}function updateTextList(){const _0x4e1f0a=_0x4ba933,_0x44e34f=document[_0x4e1f0a(0x1ce)](_0x4e1f0a(0x172));if(!_0x44e34f)return;_0x44e34f[_0x4e1f0a(0x1cd)]='';const _0x3eb504=document[_0x4e1f0a(0x18f)](_0x4e1f0a(0x180));_0x3eb504[_0x4e1f0a(0x15f)]=_0x4e1f0a(0x194),_0x3eb504[_0x4e1f0a(0x183)][_0x4e1f0a(0x166)]=_0x4e1f0a(0x13c),_0x3eb504[_0x4e1f0a(0x183)][_0x4e1f0a(0x216)]=_0x4e1f0a(0x1ca),_0x3eb504[_0x4e1f0a(0x183)][_0x4e1f0a(0x140)]=_0x4e1f0a(0x1db),_0x44e34f['appendChild'](_0x3eb504),memeState[_0x4e1f0a(0x1f2)][_0x4e1f0a(0x11b)]((_0x5c19eb,_0x3118c6)=>{const _0x43a410=_0x4e1f0a,_0x396709=document[_0x43a410(0x18f)](_0x43a410(0x14b));_0x396709[_0x43a410(0x1b4)]='text-list-item',_0x396709[_0x43a410(0x183)][_0x43a410(0x166)]=_0x43a410(0x1af),_0x396709[_0x43a410(0x183)]['alignItems']=_0x43a410(0x198),_0x396709[_0x43a410(0x183)]['gap']=_0x43a410(0x1ca),_0x396709[_0x43a410(0x183)][_0x43a410(0x120)]=_0x43a410(0x1ca),_0x396709[_0x43a410(0x183)]['marginBottom']=_0x43a410(0x21c),_0x396709[_0x43a410(0x183)][_0x43a410(0x1de)]=_0x43a410(0x21c),_0x396709[_0x43a410(0x183)][_0x43a410(0x160)]=_0x43a410(0x213),_0x396709[_0x43a410(0x183)][_0x43a410(0x21f)]=_0x43a410(0x1bd);_0x5c19eb[_0x43a410(0x1e6)]?(_0x396709[_0x43a410(0x183)][_0x43a410(0x16c)]='var(--color-primary-alpha)',_0x396709['style'][_0x43a410(0x1c7)]=_0x43a410(0x21b)):(_0x396709[_0x43a410(0x183)]['backgroundColor']=_0x43a410(0x1be),_0x396709[_0x43a410(0x183)]['border']=_0x43a410(0x1cb));const _0x5289f7=document[_0x43a410(0x18f)](_0x43a410(0x14b));_0x5289f7[_0x43a410(0x183)][_0x43a410(0x1af)]='1',_0x5289f7[_0x43a410(0x183)]['overflow']=_0x43a410(0x12c),_0x5289f7['style'][_0x43a410(0x222)]=_0x43a410(0x17e),_0x5289f7[_0x43a410(0x183)][_0x43a410(0x1a5)]=_0x43a410(0x1f1),_0x5289f7['textContent']=_0x5c19eb[_0x43a410(0x1eb)]||'Empty\x20text',_0x5289f7[_0x43a410(0x183)][_0x43a410(0x1e3)]='14px',_0x396709[_0x43a410(0x196)](_0x43a410(0x168),()=>{selectTextElement(_0x5c19eb['id']),updateTextControls(),drawMemeCanvas();}),_0x396709['appendChild'](_0x5289f7);const _0x5aad15=document[_0x43a410(0x18f)](_0x43a410(0x130));_0x5aad15[_0x43a410(0x1b4)]=_0x43a410(0x219),_0x5aad15[_0x43a410(0x1cd)]=_0x43a410(0x14c),_0x5aad15[_0x43a410(0x183)]['padding']=_0x43a410(0x1d4),_0x5aad15[_0x43a410(0x183)][_0x43a410(0x1aa)]=_0x43a410(0x20c),_0x5aad15['style'][_0x43a410(0x21e)]=_0x43a410(0x20c),_0x5aad15[_0x43a410(0x183)]['backgroundColor']=_0x43a410(0x218),_0x5aad15[_0x43a410(0x183)][_0x43a410(0x150)]=_0x43a410(0x1ba),_0x5aad15['style'][_0x43a410(0x1c7)]='none',_0x5aad15['style'][_0x43a410(0x1de)]=_0x43a410(0x1d4),_0x5aad15[_0x43a410(0x183)][_0x43a410(0x160)]=_0x43a410(0x21a),_0x5aad15[_0x43a410(0x183)][_0x43a410(0x166)]=_0x43a410(0x1af),_0x5aad15[_0x43a410(0x183)][_0x43a410(0x128)]='center',_0x5aad15['style']['justifyContent']=_0x43a410(0x198),_0x5aad15['title']=_0x43a410(0x1bb),_0x5aad15[_0x43a410(0x1c6)][_0x43a410(0x13d)]=_0x5c19eb['id'];let _0x2aa1af=![],_0x6d41de=0x0,_0x3d31a7=null,_0x24e271=null;_0x5aad15[_0x43a410(0x196)](_0x43a410(0x1e0),_0x1176ba=>{const _0x3060dd=_0x43a410;_0x1176ba[_0x3060dd(0x16f)](),_0x1176ba['preventDefault'](),_0x2aa1af=!![],_0x6d41de=_0x1176ba[_0x3060dd(0x147)],_0x3d31a7=_0x396709,_0x24e271=_0x396709['cloneNode'](!![]),_0x24e271[_0x3060dd(0x183)][_0x3060dd(0x127)]=_0x3060dd(0x12b),_0x24e271[_0x3060dd(0x183)][_0x3060dd(0x173)]=_0x3060dd(0x11c),_0x396709[_0x3060dd(0x183)]['position']='relative',_0x396709['style'][_0x3060dd(0x1b8)]='1000',_0x396709[_0x3060dd(0x183)][_0x3060dd(0x137)]=_0x3060dd(0x1a2),_0x396709[_0x3060dd(0x183)][_0x3060dd(0x195)]='scale(1.05)',_0x396709['style'][_0x3060dd(0x21f)]=_0x3060dd(0x210);const _0x3a289b=_0x36c9ae=>{const _0x467b12=_0x3060dd;if(!_0x2aa1af)return;const _0xb3b73f=_0x36c9ae[_0x467b12(0x147)]-_0x6d41de;_0x396709[_0x467b12(0x183)][_0x467b12(0x195)]='translateY('+_0xb3b73f+_0x467b12(0x202);const _0x4421c6=Array[_0x467b12(0x14e)](_0x44e34f[_0x467b12(0x1f9)](_0x467b12(0x181))),_0xc3b44b=_0x4421c6['reduce']((_0x49412f,_0x51c9da)=>{const _0x74b2e7=_0x467b12,_0x37b3bb=_0x51c9da[_0x74b2e7(0x164)](),_0x4ac6af=_0x36c9ae[_0x74b2e7(0x147)]-_0x37b3bb[_0x74b2e7(0x134)]-_0x37b3bb[_0x74b2e7(0x21e)]/0x2;return _0x4ac6af<0x0&&_0x4ac6af>_0x49412f[_0x74b2e7(0x1fa)]?{'offset':_0x4ac6af,'element':_0x51c9da}:_0x49412f;},{'offset':Number[_0x467b12(0x156)]})[_0x467b12(0x20f)];_0xc3b44b?_0x44e34f['insertBefore'](_0x24e271,_0xc3b44b):_0x44e34f['appendChild'](_0x24e271);},_0x30b973=_0x215fa0=>{const _0x54d535=_0x3060dd;if(!_0x2aa1af)return;_0x2aa1af=![],_0x396709[_0x54d535(0x183)]['position']='',_0x396709[_0x54d535(0x183)]['zIndex']='',_0x396709[_0x54d535(0x183)]['boxShadow']='',_0x396709['style'][_0x54d535(0x195)]='';const _0x250284=Array[_0x54d535(0x14e)](_0x44e34f['querySelectorAll'](_0x54d535(0x125))),_0x2928b5=_0x250284['indexOf'](_0x24e271),_0x2d078b=memeState['textElements']['findIndex'](_0x255aab=>_0x255aab['id']===_0x5c19eb['id']);if(_0x2928b5!==-0x1&&_0x2d078b!==-0x1&&_0x2928b5!==_0x2d078b){const [_0x1fa7c4]=memeState[_0x54d535(0x1f2)][_0x54d535(0x1c3)](_0x2d078b,0x1);memeState['textElements']['splice'](_0x2928b5,0x0,_0x1fa7c4),updateTextList(),drawMemeCanvas();}_0x24e271&&_0x24e271['parentNode']&&_0x24e271[_0x54d535(0x19e)][_0x54d535(0x1a6)](_0x24e271),_0x24e271=null,document[_0x54d535(0x197)](_0x54d535(0x1b3),_0x3a289b),document['removeEventListener']('mouseup',_0x30b973);};document[_0x3060dd(0x196)]('mousemove',_0x3a289b),document['addEventListener'](_0x3060dd(0x146),_0x30b973);}),_0x396709[_0x43a410(0x143)](_0x5aad15);if(memeState['textElements']['length']>0x1){const _0x32c8b3=document[_0x43a410(0x18f)](_0x43a410(0x130));_0x32c8b3['className']='btn-icon-small',_0x32c8b3[_0x43a410(0x1cd)]=_0x43a410(0x1dc),_0x32c8b3[_0x43a410(0x183)][_0x43a410(0x120)]=_0x43a410(0x1d4),_0x32c8b3[_0x43a410(0x183)][_0x43a410(0x1aa)]=_0x43a410(0x20c),_0x32c8b3[_0x43a410(0x183)][_0x43a410(0x21e)]=_0x43a410(0x20c),_0x32c8b3[_0x43a410(0x183)][_0x43a410(0x16c)]=_0x43a410(0x1f5),_0x32c8b3[_0x43a410(0x183)][_0x43a410(0x150)]=_0x43a410(0x1ba),_0x32c8b3['style']['border']=_0x43a410(0x11c),_0x32c8b3['style'][_0x43a410(0x1de)]=_0x43a410(0x1d4),_0x32c8b3[_0x43a410(0x183)][_0x43a410(0x160)]=_0x43a410(0x213),_0x32c8b3[_0x43a410(0x183)][_0x43a410(0x166)]=_0x43a410(0x1af),_0x32c8b3['style'][_0x43a410(0x128)]=_0x43a410(0x198),_0x32c8b3[_0x43a410(0x183)][_0x43a410(0x170)]=_0x43a410(0x198),_0x32c8b3[_0x43a410(0x1e9)]='Delete\x20text',_0x32c8b3[_0x43a410(0x196)](_0x43a410(0x168),_0x4a2df1=>{const _0x5387e5=_0x43a410;_0x4a2df1[_0x5387e5(0x16f)](),deleteTextElement(_0x5c19eb['id']),updateTextControls(),drawMemeCanvas();}),_0x396709[_0x43a410(0x143)](_0x32c8b3);}_0x44e34f[_0x43a410(0x143)](_0x396709);}),typeof lucide!==_0x4e1f0a(0x133)&&lucide[_0x4e1f0a(0x178)]();}async function handleMemeImageUpload(_0xee7988){const _0x31d048=_0x4ba933,_0x7bc8c3=_0xee7988['target'][_0x31d048(0x1b7)][0x0];_0x7bc8c3&&await handleMemeImageFile(_0x7bc8c3);}async function handleMemeImageFile(_0x161611){const _0x5402b2=_0x4ba933;try{const _0x1195aa=await loadImage(_0x161611);memeState[_0x5402b2(0x1a7)]=_0x1195aa,memeState[_0x5402b2(0x18b)]=_0x161611,memeState[_0x5402b2(0x204)]={'x':0x0,'y':0x0};const _0x5e9740=_0x1195aa[_0x5402b2(0x193)]||_0x1195aa[_0x5402b2(0x18a)],_0x20c3c1=_0x1195aa[_0x5402b2(0x15d)]||_0x1195aa['height'];memeState[_0x5402b2(0x208)]=_0x5e9740,memeState['canvasHeight']=_0x20c3c1,memeState[_0x5402b2(0x1ab)]=_0x5e9740,memeState['exportHeight']=_0x20c3c1;memeCanvas&&(memeCanvas['width']=_0x5e9740,memeCanvas['height']=_0x20c3c1);memeState[_0x5402b2(0x1f2)][_0x5402b2(0x11b)](_0x17774c=>{_0x17774c['x']=_0x5e9740/0x2,_0x17774c['y']=_0x20c3c1/0x2;}),updateExportPresetWithImageSize(_0x5e9740,_0x20c3c1);const _0x32aa08=document[_0x5402b2(0x1ce)](_0x5402b2(0x1d5));_0x32aa08&&(_0x32aa08['style'][_0x5402b2(0x166)]=_0x5402b2(0x13c),typeof lucide!==_0x5402b2(0x133)&&lucide[_0x5402b2(0x178)]());const _0xdeb33b=document[_0x5402b2(0x1ce)]('uploadArea');_0xdeb33b&&(_0xdeb33b['innerHTML']=_0x5402b2(0x1d7)+_0x161611['name']+'\x20('+_0x5e9740+'×'+_0x20c3c1+_0x5402b2(0x12a),_0xdeb33b['classList'][_0x5402b2(0x1b1)](_0x5402b2(0x185)),typeof lucide!==_0x5402b2(0x133)&&lucide['createIcons']()),drawMemeCanvas();}catch(_0x4f7118){console[_0x5402b2(0x15b)]('Error\x20loading\x20image:',_0x4f7118);}}function removeBackgroundImage(){const _0x1a86ea=_0x4ba933;memeState[_0x1a86ea(0x1a7)]=null,memeState['backgroundImageData']=null,memeState['backgroundImageOffset']={'x':0x0,'y':0x0};const _0x4a4a3d=0x1f4,_0x579ea0=0x1f4;memeState[_0x1a86ea(0x208)]=_0x4a4a3d,memeState[_0x1a86ea(0x16b)]=_0x579ea0,memeState[_0x1a86ea(0x1ab)]=_0x4a4a3d,memeState[_0x1a86ea(0x15e)]=_0x579ea0;memeCanvas&&(memeCanvas['width']=_0x4a4a3d,memeCanvas[_0x1a86ea(0x21e)]=_0x579ea0);memeState[_0x1a86ea(0x1f2)][_0x1a86ea(0x11b)](_0x55dbdc=>{_0x55dbdc['x']=_0x4a4a3d/0x2,_0x55dbdc['y']=_0x579ea0/0x2;});const _0x3581a2=[document[_0x1a86ea(0x1ce)]('exportSizePreset'),document['getElementById'](_0x1a86ea(0x122)),document['getElementById'](_0x1a86ea(0x13f))];_0x3581a2['forEach'](_0x240573=>{const _0x1701a7=_0x1a86ea;if(!_0x240573)return;const _0x1497b1=_0x240573['querySelector'](_0x1701a7(0x11e));_0x1497b1&&_0x1497b1[_0x1701a7(0x1d1)](),_0x240573[_0x1701a7(0x1f6)]=_0x1701a7(0x148);});const _0x3034d4=document[_0x1a86ea(0x1ce)]('removeImageBtn');_0x3034d4&&(_0x3034d4[_0x1a86ea(0x183)]['display']=_0x1a86ea(0x11c));const _0x57c11c=document[_0x1a86ea(0x1ce)](_0x1a86ea(0x124));_0x57c11c&&(_0x57c11c[_0x1a86ea(0x1cd)]=_0x1a86ea(0x167),_0x57c11c[_0x1a86ea(0x14f)]['remove'](_0x1a86ea(0x185)),typeof lucide!==_0x1a86ea(0x133)&&lucide[_0x1a86ea(0x178)]());const _0x234293=document[_0x1a86ea(0x1ce)](_0x1a86ea(0x1d8));_0x234293&&(_0x234293['value']=''),drawMemeCanvas();}function updateExportPresetWithImageSize(_0x5054c0,_0x1d6135){const _0x56dfd3=_0x4ba933,_0x107d2e=_0x5054c0+'x'+_0x1d6135,_0x598fb6=_0x5054c0+'×'+_0x1d6135+_0x56dfd3(0x138),_0x4b2b56=[document['getElementById'](_0x56dfd3(0x211)),document['getElementById'](_0x56dfd3(0x122)),document[_0x56dfd3(0x1ce)](_0x56dfd3(0x13f))];_0x4b2b56[_0x56dfd3(0x11b)](_0x425660=>{const _0x127ffb=_0x56dfd3;if(!_0x425660)return;const _0x2a04bf=_0x425660[_0x127ffb(0x1e8)]('option[data-image-size=\x22true\x22]');_0x2a04bf&&_0x2a04bf[_0x127ffb(0x1d1)]();const _0x3a24d2=document[_0x127ffb(0x18f)](_0x127ffb(0x1fb));_0x3a24d2[_0x127ffb(0x1f6)]=_0x107d2e,_0x3a24d2['textContent']=_0x598fb6,_0x3a24d2[_0x127ffb(0x20b)]('data-image-size',_0x127ffb(0x111)),_0x425660[_0x127ffb(0x159)][_0x127ffb(0x206)]>0x1?_0x425660[_0x127ffb(0x162)](_0x3a24d2,_0x425660[_0x127ffb(0x159)][0x1]):_0x425660[_0x127ffb(0x143)](_0x3a24d2),_0x425660[_0x127ffb(0x1f6)]=_0x107d2e;});const _0x5c86b3=[document[_0x56dfd3(0x1ce)](_0x56dfd3(0x188)),document['getElementById'](_0x56dfd3(0x154)),document[_0x56dfd3(0x1ce)](_0x56dfd3(0x20a))],_0x7bd4fa=[document[_0x56dfd3(0x1ce)]('customExportHeight'),document[_0x56dfd3(0x1ce)](_0x56dfd3(0x187)),document[_0x56dfd3(0x1ce)](_0x56dfd3(0x205))];_0x5c86b3[_0x56dfd3(0x11b)](_0xa2ab08=>{if(_0xa2ab08)_0xa2ab08['value']=_0x5054c0;}),_0x7bd4fa[_0x56dfd3(0x11b)](_0x5649e3=>{const _0x193591=_0x56dfd3;if(_0x5649e3)_0x5649e3[_0x193591(0x1f6)]=_0x1d6135;});}function saveToMemeGallery(){const _0x5499c5=_0x4ba933;if(!memeGalleryManager)return;try{const _0x4805f5=0xc8,_0x14b120=document[_0x5499c5(0x18f)](_0x5499c5(0x1a8));_0x14b120[_0x5499c5(0x18a)]=_0x4805f5,_0x14b120[_0x5499c5(0x21e)]=_0x4805f5;const _0x42cc6d=_0x14b120[_0x5499c5(0x1c1)]('2d');_0x42cc6d[_0x5499c5(0x1f3)](memeCanvas,0x0,0x0,_0x4805f5,_0x4805f5);const _0x55391d=_0x14b120[_0x5499c5(0x199)]('image/png'),_0x200023={'textElements':memeState[_0x5499c5(0x1f2)]['map'](_0x587256=>({..._0x587256})),'stickers':memeState[_0x5499c5(0x1df)]['map'](_0x11880e=>({..._0x11880e})),'backgroundColor':memeState['backgroundColor'],'backgroundImage':memeState['backgroundImage']?{'src':memeState[_0x5499c5(0x1a7)][_0x5499c5(0x177)],'width':memeState[_0x5499c5(0x1a7)]['width'],'height':memeState[_0x5499c5(0x1a7)][_0x5499c5(0x21e)]}:null,'backgroundImageData':memeState[_0x5499c5(0x18b)],'canvasWidth':memeState[_0x5499c5(0x208)],'canvasHeight':memeState['canvasHeight'],'imageOpacity':memeState[_0x5499c5(0x11f)],'blendMode':memeState[_0x5499c5(0x153)],'aesthetic':memeState[_0x5499c5(0x1d6)],'aestheticIntensity':memeState[_0x5499c5(0x1bc)]},_0x375bc6=memeGalleryManager[_0x5499c5(0x214)](_0x55391d,_0x200023);console[_0x5499c5(0x1b5)](_0x5499c5(0x190),_0x375bc6);}catch(_0x369482){console['error'](_0x5499c5(0x1c9),_0x369482);}}function initMemeGallery(){const _0x3f0076=_0x4ba933,_0x5e9813=document[_0x3f0076(0x1ce)](_0x3f0076(0x1d2)),_0x5794c9=document[_0x3f0076(0x1ce)](_0x3f0076(0x1ec));typeof MemeGalleryManager!==_0x3f0076(0x133)&&(_0x5e9813||_0x5794c9)?window[_0x3f0076(0x16d)]=new MemeGalleryManager(_0x5794c9,_0x5e9813):console[_0x3f0076(0x15b)](_0x3f0076(0x1a3));const _0x563177=document['getElementById']('saveToGalleryBtn'),_0x751842=document[_0x3f0076(0x1ce)](_0x3f0076(0x1e5));_0x563177&&_0x563177[_0x3f0076(0x196)](_0x3f0076(0x168),saveToMemeGallery),_0x751842&&_0x751842[_0x3f0076(0x196)](_0x3f0076(0x168),saveToMemeGallery);}
